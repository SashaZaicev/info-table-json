{"version":3,"sources":["components/style/table.module.scss","helpers/generateKey/generateKey.ts","components/Table.tsx","components/container/TableContainer.tsx","store/tableReducer/constants/constants.ts","App.tsx","selectors/tableSelector/tableSelector.ts","store/tableReducer/actions/actionTables.ts","reportWebVitals.ts","store/tableReducer/tablesReducer.ts","store/store.ts","index.tsx"],"names":["module","exports","generateKey","el","Date","getTime","Table","dataUrl","firstDataItem","headRef","useRef","useState","top","setTop","useEffect","window","addEventListener","handleScroll","removeEventListener","ref","target","scrollY","current","parentElement","offsetTop","offsetHeight","clientHeight","tableHeader","Object","entries","columnsName","map","index","value","className","style","headerT","sticky","tableBody","data","values","container","mtb3","tableResponsive","table","TableContainer","mapped","tables","ADD_TABLES","START_TABLE","fileJSON","App","json","tablesStore","useSelector","state","tablePage","tableSelector","dispatch","useDispatch","type","name","onChange","ev","files","f","i","reader","FileReader","onload","result","JSON","parse","newTable","ex","alert","readAsText","handleFileSelect","accept","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","rootReducer","combineReducers","action","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.16bdc6aa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"table_container__3n5lo\",\"mtb3\":\"table_mtb3__1BD5K\",\"table\":\"table_table__6RAfP\",\"sticky\":\"table_sticky__1D1Ry\",\"tableResponsive\":\"table_tableResponsive__2i4Xb\"};","export const generateKey = (el: number) => `${el}_${new Date().getTime()}`;\r\n","import React, {\r\n  FC,\r\n  useEffect,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport style from './style/table.module.scss'\r\nimport {generateKey} from \"src/helpers\";\r\nimport {PropsType} from \"./types\";\r\n\r\nexport const Table: FC<PropsType> = ({dataUrl}) => {\r\n  const [firstDataItem] = dataUrl;\r\n  const headRef = useRef<HTMLTableSectionElement>(null)\r\n  const [top, setTop] = useState(0)\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', handleScroll)\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    }\r\n  }, [])\r\n  const handleScroll = () => {\r\n    const ref = headRef\r\n    const target = window.scrollY\r\n    if (ref.current &&\r\n      ref.current.parentElement\r\n      && ref.current.parentElement.offsetTop < target\r\n      && ref.current.parentElement.offsetTop\r\n      + ref.current.parentElement.offsetHeight\r\n      - ref.current.clientHeight > target) {\r\n      setTop(target - ref.current.parentElement.offsetTop)\r\n    }\r\n  }\r\n  const tableHeader = Object.entries(firstDataItem.columnsName).map(\r\n    ([key, value], index) => (\r\n      <th\r\n        key={generateKey(index)}\r\n        className={`${style.headerT} ${style.sticky}`}>\r\n        {value}\r\n      </th>\r\n    )\r\n  );\r\n  const tableBody = firstDataItem.data.map((el, index) => (\r\n      <tr\r\n        key={generateKey(index)}>\r\n        {Object.values(el).map(\r\n          (value, index) => (\r\n            <td key={generateKey(index)}>\r\n              {value}\r\n            </td>\r\n          ))}\r\n      </tr>\r\n    )\r\n  );\r\n\r\n  return (\r\n    <div className={\r\n      `${style.container} ${style.mtb3} ${style.tableResponsive}`\r\n    }>\r\n      <table className={`${style.table}`}>\r\n        <thead ref={headRef} style={{top: top}}>\r\n        <tr>{tableHeader}</tr>\r\n        </thead>\r\n        <tbody>{tableBody}</tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n","import {FC} from 'react';\r\nimport {generateKey} from \"src/helpers\";\r\nimport {Table} from \"src/components\";\r\nimport {PropsType} from \"./types\";\r\n\r\n\r\nexport const TableContainer: FC<PropsType> = ({dataUrl}) => {\r\n  const mapped = dataUrl.map((tables, index) => (\r\n    <Table\r\n      dataUrl={tables}\r\n      key={generateKey(index)}\r\n    />\r\n  ));\r\n\r\n  return <>{mapped}</>;\r\n};\r\n","export const ADD_TABLES = \"ADD_TABLES\";\r\nexport const START_TABLE = \"START_TABLE\";\r\n","import React, {ChangeEvent, useEffect} from 'react';\nimport './App.scss';\nimport fileJSON from \"../src/data.json\"\nimport {useDispatch, useSelector} from 'react-redux'\nimport {TableContainer} from \"src/components\";\nimport {AppRootStateType} from \"src/store/store\";\nimport {tableSelector} from \"./selectors\";\nimport {addTables, startTable} from \"./store/tableReducer/actions\";\n\nconst dataUrl = fileJSON;\n\nexport const App = () => {\n  let json;\n\n  const tablesStore = useSelector((state: AppRootStateType) => (\n    tableSelector(state)\n  ));\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(startTable(dataUrl));\n  }, []);\n\n  const handleFileSelect = (ev: ChangeEvent<HTMLInputElement>) => {\n    const files = ev.target.files;\n\n    if (files) {\n      for (let i = 0, f; f = files[i]; i++) {\n        const reader = new FileReader();\n\n        reader.onload = ((theFile) => {\n          return (ev: ProgressEvent<FileReader>) => {\n            if (ev.target) {\n              if (typeof ev.target.result === \"string\") {\n                try {\n                  json = JSON.parse(ev.target.result);\n                  dispatch(addTables(json));\n                } catch (ex) {\n                  alert('ex when trying to parse json = ' + ex);\n                }\n              }\n            }\n          }\n        })(f);\n        reader.readAsText(f);\n      }\n    }\n    return;\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <input\n          className=\"inputFile\"\n          type=\"file\"\n          name=\"JSON file\"\n          onChange={(ev: ChangeEvent<HTMLInputElement>) => handleFileSelect(ev)}\n          accept=\".json\"\n        />\n      </header>\n      {tablesStore && (\n        <TableContainer dataUrl={tablesStore}/>\n      )}\n    </div>\n  );\n};\n","import {AppRootStateType} from \"src/store/store\";\r\nimport {TableType} from \"../../store/tableReducer/types\";\r\n\r\nexport const tableSelector = (state: AppRootStateType): TableType[][] => (\r\n  state.tablePage.tables\r\n);\r\n","import {ADD_TABLES, START_TABLE} from \"../constants\";\r\nimport {TableType} from \"../types\";\r\n\r\nexport const addTables = (newTable: TableType[]) => ({\r\n  type: ADD_TABLES,\r\n  newTable\r\n} as const);\r\nexport const startTable = (table: TableType[]) => ({\r\n  type: START_TABLE,\r\n  table\r\n} as const);\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {ADD_TABLES, START_TABLE} from \"./constants\";\r\nimport {ActionsType, InitStateType, TableType} from \"./types\";\r\n\r\nexport const initialState = {\r\n  tables: [] as Array<TableType[]>\r\n}\r\n\r\nexport const tablesReducer = (state = initialState, action: ActionsType): InitStateType => {\r\n  switch (action.type) {\r\n    case ADD_TABLES: {\r\n      return {\r\n        ...state,\r\n        tables: [...state.tables, action.newTable]\r\n      }\r\n    }\r\n    case START_TABLE: {\r\n      return {\r\n        ...state,\r\n        tables: [action.table]\r\n      }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n};\r\n","import {combineReducers, createStore, Store} from \"redux\";\r\nimport {tablesReducer} from \"src/store/tableReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    tablePage: tablesReducer,\r\n});\r\n\r\nexport const store: Store<AppRootStateType> = createStore(rootReducer);\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport {App} from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n        <Provider store={store}>\n            <App/>\n        </Provider>,\n    document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}